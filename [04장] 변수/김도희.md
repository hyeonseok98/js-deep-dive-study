# [04장] 변수

## 변수 (variable)
하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름<br>
값을 저장하고 참조하는 메커니즘. 즉, __값의 위치를 가리키는 상징적인 이름__

- 변수명<br>
  메모리 공간에 저장된 값을 식별할 수 있는 고유한 이름<br>
  값이 저장된 메모리 공간에 붙인 이름
- 변수값<br>
  변수에 저장된 값

## 식별자 (identifier)
- 어떤 값을 구별해서 식별할 수 있는 고유한 이름
- 변수, 함수, 클래스 등의 이름
- 값이 저장되어 있는 메모리 주소와 매핑 관계 (매핑 정보도 메모리에 저장되어 있음)
- 즉, 값이 아닌 메모리 주소를 기억해서 메모리 주소를 통해 메모리 공간에 접근하므로 __식별자 = 메모리 주소에 붙인 이름__


## 변수 선언 (variable declaration)
변수를 생성
- 값을 저장하기 위한 메모리 공간 확보 > 변수명과 메모리 공간의 주소 연결 > 값 저장
- let, const, var 키워드 사용<br>
  (var 키워드는 호이스팅으로 인한 변수 스코프의 위험성 때문에 현재는 거의 사용되지 않음!)
- ✅ __변수 선언 단계__<br>
  1️⃣ __선언__ : 이름을 등록해서 변수 존재 알림<br>
  2️⃣ __초기화__ : 값 저장할 메모리 공간 확보하여 먼저 undefined 할당<br>

  ```javascript
  console.log(score); // undefined
  var score;
  // 선언을 참조보다 나중에 했는데도 작동하는 이유는 아래 '변수 선언의 실행 시점과 호이스팅'에서 살펴보자
  ```
- 선언하지 않은 식별자에 접근 시, ReferenceError(참조 에러) 발생

### ℹ️ 변수 선언의 실행 시점과 호이스팅
원래 자바스크립트 코드는 한 줄씩 순차적으로 실행된다.<br>
그런데 변수를 참조하면 변수 선언문이 어디에 위치하든 상관없이 다른 코드보다 먼저 실행시킨다.

```javascript
console.log(a); // 3
var a = 3;
```
🤔 __왜 그럴까?__<br>
🤓 바로, __변수 선언의 실행 시점과 호이스팅__ 두 가지 때문!

- __변수 선언이 실행되는 시점__<br>
  순서대로 한 줄씩 실행되는 런타임에 실행 되는 게 아닌, 그보다 더 전 단계에서 먼저 실행
- __변수 호이스팅__<br>
  상대적으로 아래에 있는 변수 선언문이 위로 끌어올려져서 동작<br>
  var, let, const, function, function*, class 키워드로 선언하는 모든 식별자는 호이스팅이 반영!

__즉, 변수 선언이 실행되는 시점이 위로 끌어올려져서 먼저 동작하게 되는 것!__<br>
이제 위의 코드를 실제 동작 과정 순서대로 풀어서 해석해보자.

```javascript
var a; // 변수 선언 (호이스팅)
console.log(a); // undefined 출력
a = 3; // 변수 초기화
```
---
이번엔 let 키워드로 동일하게 동작하는지 확인해보았다.

```javascript
console.log(x);  // ReferenceError: Cannot access 'x' before initialization
let x = 3;
```
🤔 __왜 let으로 선언한 변수는 참조 에러가 출력될까?__<br>
🤓 바로, 두 키워드의 __'초기화' 여부__ 가 다르기 때문!

var는 초기화를 따로 하지 않아도 선언하면 자동으로 초기화가 되지만,<br>
let과 const는 별도의 초기화를 거쳐야 값이 할당된다.

let이 __일시적인 사각지대(Temporal Dead Zone, TDZ)__ 에 놓여 초기화 전까지 사용할 수 없는 것!<br>
이제 위의 코드를 실제 동작 과정 순서대로 풀어서 해석해보자.

```javascript
let x; // 변수 선언 (호이스팅)
console.log(x); // TDZ에 있는 상태로 접근 불가하여 참조 에러 발생
x = 3; // 변수 초기화가 나중에 됨
```


## 값 할당 (assignment)<br>
- 할당 연산자 "="을 사용하여 우변의 값을 좌변의 변수에 할당하여 저장
- __변수 선언은 런타임 이전에__ 먼저 실행되지만 __값의 할당은 during 런타임에__ 실행됨!

```javascript
let scoreA; // 선언
scoreA = 80; // 할당

let scoreB = 80; // 선언, 할당을 한 번에
```

✅ 이전 값 undefined가 저장되어 있던 메모리 공간을 지우고 그곳에 할당 값을 새롭게 저장하는 것이 아닌, 새로운 메모리 공간을 파서 그곳에 저장한다는 점 주의!

```javascript
console.log(score); // undefined

score = 80; // 할당
var score; // 선언

console.log(score); // 80
```

### 값의 재할당
이미 값이 할당되어 있는 변수에 새로운 값을 다시 할당하는 것

```javascript
let score = 80; // 선언과 할당
score = 90; // 재할당
```


## 참조 (reference)<br>
변수에 저장된 값을 읽어 들이는 것

````javascript
var resultA; // 선언
resultA = 10; // 할당
var resultB = 10 + 20; // 선언과 초기화와 할당
resultB = 100; // 재할당

console.log(resultA); // 참조
````