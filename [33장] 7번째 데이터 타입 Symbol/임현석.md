# [33ì¥] 7ë²ˆì§¸ ë°ì´í„° íƒ€ì… Symbol
## ğŸ“Œ 33.1 ì‹¬ë²Œì´ë€?
- ES6ì—ì„œ ë„ì…ëœ 7ë²ˆì§¸ ë°ì´í„° íƒ€ì…ìœ¼ë¡œ ë³€ê²½ ë¶ˆê°€ëŠ¥í•œ ì›ì‹œ íƒ€ì…ì˜ ê°’ìœ¼ë¡œ ë‹¤ë¥¸ ê°’ê³¼ ì¤‘ë³µë˜ì§€ ì•ŠëŠ” ìœ ì¼ë¬´ì´í•œ ê°’
- í”„ë¡œí¼í‹° í‚¤ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê°’ì€ ë¹ˆ ë¬¸ìì—´ì„ í¬í•¨í•˜ëŠ” ëª¨ë“  ë¬¸ìì—´ ë˜ëŠ” ì‹¬ë²Œ ê°’

## ğŸ“Œ 33.2 ì‹¬ë²Œ ê°’ì˜ ìƒì„±
### â˜˜ï¸ 33.2.1 Symbol í•¨ìˆ˜
- ë‹¤ë¥¸ ê°’ë“¤ì€ ë¦¬í„°ëŸ´ í‘œê¸°ë²•ì„ í†µí•´ ê°’ì„ ìƒì„±í•  ìˆ˜ ìˆì§€ë§Œ ì‹¬ë²Œ ê°’ì€ Symbol í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ìƒì„±í•´ì•¼ í•œë‹¤.
- ì´ë•Œ ìƒì„±ëœ ì‹¬ë²Œ ê°’ì€ ì™¸ë¶€ë¡œ ë…¸ì¶œë˜ì§€ ì•Šì•„ í™•ì¸í•  ìˆ˜ ì—†ìœ¼ë©° **ë‹¤ë¥¸ ê°’ê³¼ ì ˆëŒ€ ì¤‘ë³µë˜ì§€ ì•ŠëŠ”ë‹¤.**
```jsx
const mySymbol = Symbol('mySymbol');

// ì‹¬ë²Œë„ ë ˆí¼ ê°ì²´ë¥¼ ìƒì„±í•œë‹¤
console.log(mySymbol.description); // mySymbol
console.log(mySymbol.toString());  // Symbol(mySymbol)

new Symbol(); // TypeError: Symbol is not a constructor, new ì—°ì‚°ìë¡œ ìƒì„± ë¶ˆê°€
```
- ì‹¬ë²Œ í•¨ìˆ˜ì—ëŠ” ì„ íƒì ìœ¼ë¡œ ë¬¸ìì—´ì„ ì¸ìˆ˜ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆìœ¼ë‚˜ ì‹¬ë²Œ ê°’ì— ëŒ€í•œ ì„¤ëª…ìœ¼ë¡œ ë””ë²„ê¹… ìš©ë„ë¡œ ê°’ì— ì˜í–¥ ì—†ë‹¤.
```jsx
// ì‹¬ë²Œ ê°’ì— ëŒ€í•œ ì„¤ëª…ì´ ê°™ë”ë¼ë„ ìœ ì¼ë¬´ì´í•œ ì‹¬ë²Œ ê°’ì„ ìƒì„±í•œë‹¤.
const mySymbol1 = Symbol('mySymbol');
const mySymbol2 = Symbol('mySymbol');

console.log(mySymbol1 === mySymbol2); // false
```
- ì‹¬ë²Œ ê°’ë„ ê°ì²´ì²˜ëŸ¼ ì ‘ê·¼í•˜ë©´ ì•”ë¬µì ìœ¼ë¡œ `ë˜í¼ ê°ì²´`ë¥¼ ìƒì„±í•¨
```jsx
const mySymbol = Symbol('mySymbol');

console.log(mySymbol.description); // mySymbol
console.log(mySymbol.toString());  // Symbol(mySymbol)
```
- ì‹¬ë²Œ ê°’ì€ ì•”ë¬µì ìœ¼ë¡œ ìˆ«ì íƒ€ì…ì´ë‚˜ ë¬¸ìì—´ë¡œ ë³€í™˜ë˜ì§€ ì•Šì§€ë§Œ, ë¶ˆë¦¬ì–¸ íƒ€ì…ìœ¼ë¡œëŠ” íƒ€ì… ë³€í™˜ì´ ëœë‹¤.
```jsx
const mySymbol = Symbol();

console.log(mySymbol + ''); // TypeError: Cannot convert a Symbol value to a string
console.log(+mySymbol);     // TypeError: Cannot convert a Symbol value to a number
----------
const mySymbol = Symbol();

console.log(!!mySymbol); // true

// if ë¬¸ ë“±ì—ì„œ ì¡´ì¬ í™•ì¸ì„ ìœ„í•´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
if (mySymbol) console.log('mySymbol is not empty.');
```

<br />

### â˜˜ï¸ 33.2.2 Symbol.for/Symbol.keyFor ë©”ì„œë“œ
- Symbol.for: ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ë¬¸ìì—´ì„ í‚¤ë¡œ ì‚¬ìš©í•˜ì—¬ í‚¤ì™€ ì‹¬ë²Œ ê°’ì˜ ìŒë“¤ì´ ì €ì¥ë˜ì–´ ìˆëŠ” ì „ì—­ ì‹¬ë²Œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—ì„œ í•´ë‹¹ í‚¤ì™€ ì¼ì¹˜í•˜ëŠ” ì‹¬ë²Œ ê°’ ê²€ìƒ‰
- ê²€ìƒ‰ ì‹¤íŒ¨ì‹œ ìƒˆë¡œìš´ ì‹¬ë²Œ ê°’ ìƒì„± -> í•´ë‹¹ í‚¤ì˜ ì‹¬ë²Œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì €ì¥ -> ì‹¬ë²Œ ê°’ ë°˜í™˜
```jsx
// ì „ì—­ ì‹¬ë²Œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— mySymbolì´ë¼ëŠ” í‚¤ë¡œ ì €ì¥ëœ ì‹¬ë²Œ ê°’ì´ ì—†ìœ¼ë©´ ìƒˆë¡œìš´ ì‹¬ë²Œ ê°’ì„ ìƒì„±
const s1 = Symbol.for('mySymbol');
// ì „ì—­ ì‹¬ë²Œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— mySymbolì´ë¼ëŠ” í‚¤ë¡œ ì €ì¥ëœ ì‹¬ë²Œ ê°’ì´ ìˆìœ¼ë©´ í•´ë‹¹ ì‹¬ë²Œ ê°’ì„ ë°˜í™˜
const s2 = Symbol.for('mySymbol');

console.log(s1 === s2); // true
```
- Symbol.keyFor ë©”ì„œë“œë¡œëŠ” ì „ì—­ ì‹¬ë²Œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì €ì¥ëœ ì‹¬ë²Œ ê°’ì˜ í‚¤ë¥¼ ì¶”ì¶œ
```jsx
// ì „ì—­ ì‹¬ë²Œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— mySymbolì´ë¼ëŠ” í‚¤ë¡œ ì €ì¥ëœ ì‹¬ë²Œ ê°’ì´ ì—†ìœ¼ë©´ ìƒˆë¡œìš´ ì‹¬ë²Œ ê°’ì„ ìƒì„±
const s1 = Symbol.for('mySymbol');
// ì „ì—­ ì‹¬ë²Œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì €ì¥ëœ ì‹¬ë²Œ ê°’ì˜ í‚¤ë¥¼ ì¶”ì¶œ
Symbol.keyFor(s1); // -> mySymbol

// Symbol í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ìƒì„±í•œ ì‹¬ë²Œ ê°’ì€ ì „ì—­ ì‹¬ë²Œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ë“±ë¡ë˜ì–´ ê´€ë¦¬ë˜ì§€ ì•ŠëŠ”ë‹¤.
const s2 = Symbol('foo');
// ì „ì—­ ì‹¬ë²Œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì €ì¥ëœ ì‹¬ë²Œ ê°’ì˜ í‚¤ë¥¼ ì¶”ì¶œ
Symbol.keyFor(s2); // -> undefined
```

<br />

## ğŸ“Œ 33.3 ì‹¬ë²Œê³¼ ìƒìˆ˜
```jsx
// ìœ„, ì•„ë˜, ì™¼ìª½, ì˜¤ë¥¸ìª½ì„ ë‚˜íƒ€ë‚´ëŠ” ìƒìˆ˜ë¥¼ ì •ì˜í•œë‹¤.
// ì´ë•Œ ê°’ 1, 2, 3, 4ì—ëŠ” íŠ¹ë³„í•œ ì˜ë¯¸ê°€ ì—†ê³  ìƒìˆ˜ ì´ë¦„ì— ì˜ë¯¸ê°€ ìˆë‹¤.
const Direction = {
  UP: 1,
  DOWN: 2,
  LEFT: 3,
  RIGHT: 4
};

```
```jsx
// ìœ„, ì•„ë˜, ì™¼ìª½, ì˜¤ë¥¸ìª½ì„ ë‚˜íƒ€ë‚´ëŠ” ìƒìˆ˜ë¥¼ ì •ì˜í•œë‹¤.
// ì¤‘ë³µë  ê°€ëŠ¥ì„±ì´ ì—†ëŠ” ì‹¬ë²Œ ê°’ìœ¼ë¡œ ìƒìˆ˜ ê°’ì„ ìƒì„±í•œë‹¤.
const Direction = {
  UP: Symbol('up'),
  DOWN: Symbol('down'),
  LEFT: Symbol('left'),
  RIGHT: Symbol('right')
};

const myDirection = Direction.UP;

if (myDirection === Direction.UP) {
  console.log('You are going UP.');
}
```
- **enum**: ëª…ëª…ëœ ìˆ«ì ìƒìˆ˜ì˜ ì§‘í•©ìœ¼ë¡œ `ì—´ê±°í˜•`ì´ë¼ê³  ë¶€ë¦„
- JSì—ì„œëŠ” ì§€ì›í•˜ì§€ ì•Šìœ¼ë‚˜ TSì—ì„œëŠ” ì§€ì›í•¨
- JSì—ì„œ enumì„ í‰ë‚´ë‚´ê¸° ìœ„í•´ì„œ Object.freeze ë©”ì„œë“œì™€ ì‹¬ë²Œ ê°’ì„ ì‚¬ìš©í•¨
```jsx
// Direction ê°ì²´ëŠ” ë¶ˆë³€ ê°ì²´ì´ë©° í”„ë¡œí¼í‹°ëŠ” ìœ ì¼ë¬´ì´í•œ ê°’ì´ë‹¤.
const Direction = Object.freeze({
  UP: Symbol('up'),
  DOWN: Symbol('down'),
  LEFT: Symbol('left'),
  RIGHT: Symbol('right')
});

const myDirection = Direction.UP;

if (myDirection === Direction.UP) {
  console.log('You are going UP.');
}
```

<br />

## ğŸ“Œ 33.4 ì‹¬ë²Œê³¼ í”„ë¡œí¼í‹° í‚¤
- ê°ì²´ì˜ í”„ë¡œí¼í‹° í‚¤ëŠ” ë¹ˆ ë¬¸ìì—´ì„ í¬í•¨í•˜ëŠ” ëª¨ë“  ë¬¸ìì—´ ë˜ëŠ” ì‹¬ë²Œ ê°’ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë©°, ë™ì ìœ¼ë¡œ ìƒì„± ê°€ëŠ¥
```jsx
const obj = {
  // ì‹¬ë²Œ ê°’ìœ¼ë¡œ í”„ë¡œí¼í‹° í‚¤ë¥¼ ìƒì„±. ëŒ€ê´„í˜¸ í‘œê¸°ë²• í•„ìš”
  [Symbol.for('mySymbol')]: 1
};

obj[Symbol.for('mySymbol')]; // -> 1
```

<br />

## ğŸ“Œ 33.5 ì‹¬ë²Œê³¼ í”„ë¡œí¼í‹° ì€ë‹‰
- ì‹­ë²Œ ê°’ì„ í”„ë¡œí¼í‹° í‚¤ë¡œ ì‚¬ìš©í•˜ì—¬ ìƒì„±í•œ í”„ë¡œí¼í‹°ëŠ” for...inë¬¸ì´ë‚˜ Obejct.keys, Object.getOwnPropertyNames ë©”ì„œë“œë¡œ ì°¾ì„ ìˆ˜ ì—†ìŒ
```jsx
const obj = {
  [Symbol('mySymbol')]: 1
};

// getOwnPropertySymbols ë©”ì„œë“œëŠ” ì¸ìˆ˜ë¡œ ì „ë‹¬í•œ ê°ì²´ì˜ ì‹¬ë²Œ í”„ë¡œí¼í‹° í‚¤ë¥¼ ë°°ì—´ë¡œ ë°˜í™˜í•œë‹¤.
console.log(Object.getOwnPropertySymbols(obj)); // [Symbol(mySymbol)]

// getOwnPropertySymbols ë©”ì„œë“œë¡œ ì‹¬ë²Œ ê°’ë„ ì°¾ì„ ìˆ˜ ìˆë‹¤.
const symbolKey1 = Object.getOwnPropertySymbols(obj)[0];
console.log(obj[symbolKey1]); // 1
```
- í•˜ì§€ë§Œ ES6ì— ë„ì…ëœ Obejct.getOwnPropertySymbols ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì°¾ì„ ìˆ˜ ìˆìŒ
```jsx
const obj = {
  [Symbol('mySymbol')]: 1
};

// getOwnPropertySymbols ë©”ì„œë“œëŠ” ì¸ìˆ˜ë¡œ ì „ë‹¬í•œ ê°ì²´ì˜ ì‹¬ë²Œ í”„ë¡œí¼í‹° í‚¤ë¥¼ ë°°ì—´ë¡œ ë°˜í™˜í•œë‹¤.
console.log(Object.getOwnPropertySymbols(obj)); // [Symbol(mySymbol)]

// getOwnPropertySymbols ë©”ì„œë“œë¡œ ì‹¬ë²Œ ê°’ë„ ì°¾ì„ ìˆ˜ ìˆë‹¤.
const symbolKey1 = Object.getOwnPropertySymbols(obj)[0];
console.log(obj[symbolKey1]); // 1
```

<br />

## ğŸ“Œ 33.6 ì‹¬ë²Œê³¼ í‘œì¤€ ë¹ŒíŠ¸ì¸ ê°ì²´ í™•ì¥
- ì¼ë°˜ì ìœ¼ë¡œ í‘œì¤€ ë¹ŒíŠ¸ì¸ ê°ì²´ì— ì‚¬ìš©ì ì •ì˜ ë©”ì„œë“œë¥¼ ì§ì ‘ ì¶”ê°€í•˜ì—¬ í™•ì¥í•˜ëŠ” ê²ƒì€ ê¶Œì¥ë˜ì§€ ì•ŠìŒ(ì½ê¸° ì „ìš©ìœ¼ë¡œ ì‚¬ìš© ê¶Œì¥)
- Why? ê°œë°œìê°€ ì§ì ‘ ì¶”ê°€í•œ ë©”ì„œë“œì™€ ë¯¸ë˜ì— í‘œì¤€ ì‚¬ì–‘ìœ¼ë¡œ ì¶”ê°€ë  ë©”ì„œë“œì˜ ì´ë¦„ì´ ì¤‘ë³µë  ìˆ˜ ìˆê¸° ë•Œë¬¸(ë®ì–´ì“°ê¸° ë¬¸ì œ)
```jsx
// í‘œì¤€ ë¹ŒíŠ¸ì¸ ê°ì²´ë¥¼ í™•ì¥í•˜ëŠ” ê²ƒì€ ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.
Array.prototype.sum = function () {
  return this.reduce((acc, cur) => acc + cur, 0);
};

[1, 2].sum(); // -> 3
```
- í•˜ì§€ë§Œ ì¤‘ë³µë  ê°€ëŠ¥ì„± ì—†ëŠ” ì‹¬ë²Œ ê°’ìœ¼ë¡œ í”„ë¡œí¼í‹° í‚¤ë¥¼ ìƒì„±í•˜ì—¬ í‘œì¤€ ë¹ŒíŠ¸ì¸ ê°ì²´ë¥¼ í™•ì¥í•˜ë©´ ê¸°ì¡´ì— ìˆë˜ ê²ƒê³¼ ì¶©ëŒí•˜ì§€ ì•ŠëŠ” ê²ƒì€ ë¬¼ë¡ ,
- í‘œì¤€ ì‚¬ì–‘ì˜ ë²„ì „ì´ ì˜¬ë¼ê°ì— ë”°ë¼ ì¶”ê°€ë ì§€ ëª¨ë¥´ëŠ” ì–´ë–¤ í”„ë¡œí¼í‹° í‚¤ì™€ë„ ì¶©ëŒí•  ìœ„í—˜ì´ ì—†ì–´ ì•ˆì „í•˜ê²Œ í‘œì¤€ ë¹ŒíŠ¸ì¸ ê°ì²´ë¥¼ í™•ì¥ ê°€ëŠ¥í•¨
```jsx
// ì‹¬ë²Œ ê°’ìœ¼ë¡œ í”„ë¡œí¼í‹° í‚¤ë¥¼ ë™ì  ìƒì„±í•˜ë©´ ë‹¤ë¥¸ í”„ë¡œí¼í‹° í‚¤ì™€ ì ˆëŒ€ ì¶©ëŒí•˜ì§€ ì•Šì•„ ì•ˆì „í•˜ë‹¤.
Array.prototype[Symbol.for('sum')] = function () {
  return this.reduce((acc, cur) => acc + cur, 0);
};

[1, 2][Symbol.for('sum')](); // -> 3
```

<br />

## ğŸ“Œ 33.7 Well-known Symbol
- Well-known Symbolì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì˜ ë‚´ë¶€ ì•Œê³ ë¦¬ì¦˜ì— ì‚¬ìš©ë˜ë©°, Array, String, Map, arguments, NodeListì™€ ê°™ì´ for...ofë¬¸ìœ¼ë¡œ ìˆœíšŒ ê°€ëŠ¥í•œ ë¹ŒíŠ¸ì¸ ì´í„°ëŸ¬ë¸”ì€ Well-known Symbolì¸
Symbol.iteratorë¥¼ í‚¤ë¡œ ê°–ëŠ” ë©”ì„œë“œë¥¼ ê°€ì§
- ë•Œë¬¸ì— Symbol.iterator ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì´í„°ë ˆì´í„°ë¥¼ ë°˜í™˜í•˜ë„ë¡ ECMAScript ì‚¬ì–‘ì— ê·œì •ë˜ì–´ ìˆìŒ. ë¹ŒíŠ¸ì¸ ì´í„°ëŸ¬ë¸”ì€ ì´í„°ë ˆì´ì…˜ í”„ë¡œí† ì½œì„ ì¤€ìˆ˜í•¨
- ì¼ë°˜ ê°ì²´ë¥¼ ì´í„°ëŸ¬ë¸”ì²˜ëŸ¼ ë™ì‘í•˜ë„ë¡ êµ¬í˜„í•˜ê³  ì‹¶ìœ¼ë©´ ì´í„°ë ˆì´ì…˜ í”„ë¡œí† ì½œì„ ë”°ë¥¼ ìˆ˜ ìˆê²Œ Symbol.iteratorë¥¼ í‚¤ë¡œ ê°–ëŠ” ë©”ì„œë“œë¥¼ ê°ì²´ì— ì¶”ê°€í•˜ê³  ì´í„°ë ˆì´í„°ë¥¼ ë°˜í™˜í•˜ë„ë¡ êµ¬í˜„í•˜ë©´ ê·¸ ê°ì²´ëŠ” ì´í„°ëŸ¬ë¸”ì´ ë¨
```jsx
// 1 ~ 5 ë²”ìœ„ì˜ ì •ìˆ˜ë¡œ ì´ë£¨ì–´ì§„ ì´í„°ëŸ¬ë¸”
const iterable = {
  // Symbol.iterator ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ì—¬ ì´í„°ëŸ¬ë¸” í”„ë¡œí† ì½œì„ ì¤€ìˆ˜
  [Symbol.iterator]() {
    let cur = 1;
    const max = 5;
    // Symbol.iterator ë©”ì„œë“œëŠ” next ë©”ì„œë“œë¥¼ ì†Œìœ í•œ ì´í„°ë ˆì´í„°ë¥¼ ë°˜í™˜
    return {
      next() {
        return { value: cur++, done: cur > max + 1 };
      }
    };
  }
};

for (const num of iterable) {
  console.log(num); // 1 2 3 4 5
}
```
