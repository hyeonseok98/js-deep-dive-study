# [26ì¥] ES6 í•¨ìˆ˜ì˜ ì¶”ê°€ ê¸°ëŠ¥

## 26.1 í•¨ìˆ˜ì˜ êµ¬ë¶„

ì´ë¯¸ ì•Œê³  ìˆì§€ë§Œ, ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ë²•ì€ ë‹¤ì–‘í•˜ë‹¤.

```javascript
var foo = function () {
  return 1;
};

// ì¼ë°˜ì ì¸ í•¨ìˆ˜ í˜¸ì¶œ ë°©ë²•
foo();

// ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ
new foo();

// ë©”ì„œë“œë¡œì„œ í˜¸ì¶œ
var obj = { foo: foo };
obj.foo();
```

ìœ„ í˜¸ì¶œ ë°©ë²•ë“¤ì€ ES6 ì´ì „ì˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ë²•ì´ë‹¤.

ì´ëŸ° ES6 ì´ì „ì˜ í•¨ìˆ˜ë‚˜ ë©”ì„œë“œëŠ” ìƒì„±ì í•¨ìˆ˜ë¡œì„œ, ì¼ë°˜ í•¨ìˆ˜ë¡œì„œë„ í˜¸ì¶œì´ ê°€ëŠ¥í•˜ë‹¤.

ì¦‰, `callable` ì´ë©´ì„œ `constructor` ë‹¤.

ê·¸ëŸ°ë°, ìƒì„±ì í•¨ìˆ˜ë¡œ ì •ì˜í•˜ì§€ë„ ì•Šì•˜ëŠ”ë° ê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì´ ë§ì´ ì•ˆëœë‹¤.

ì•„ë˜ ì˜ˆì‹œë¥¼ ë³´ì.

```javascript
// í”„ë¡œí¼í‹° fì— ë°”ì¸ë”©ëœ í•¨ìˆ˜ëŠ” callableì´ë©° constructor ë‹¤.
var obj = {
  x: 10,
  f: function () {
    return this.x;
  },
};

// ë©”ì„œë“œë¡œì„œ í˜¸ì¶œí•˜ë©´ ë¬¸ì œ ì—†ë‹¤.
console.log(obj.f()); // 10

// í”„ë¡œí¼í‹° fì— ë°”ì¸ë”©ëœ í•¨ìˆ˜(ë©”ì„œë“œ)ë¥¼ ì¼ë°˜ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ.
var bar = obj.f;
console.log(bar()); // undefined, strict mode ì—ì„œëŠ” ìƒìœ„ ìŠ¤ì½”í”„ì—ì„œ ì°¾ì§€ ì•ŠìŒ.

// í”„ë¡œí¼í‹° fì— ë°”ì¸ë”©ëœ í•¨ìˆ˜ë¥¼ ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ
console.log(new obj.f()); // f {}
```

ë©”ì„œë“œ `obj.x` ëŠ” ìƒì„±ì í•¨ìˆ˜ë¡œì„œ ì •ì˜í•˜ì§€ ì•Šì•˜ìŒì—ë„ `new` ì—°ì‚°ìë¥¼ í†µí•´ í˜¸ì¶œì´ ê°€ëŠ¥í•œ ê²ƒì´ ì–´ìƒ‰í•˜ë‹¤.

ì´ì™¸ì—ë„, ì½œë°±í•¨ìˆ˜ ë˜í•œ constructor ê¸° ë•Œë¬¸ì— ì›í•˜ì§€ ì•Šë”ë¼ë„ `new` ì—°ì‚°ìë¡œ í˜¸ì¶œì´ ê°€ëŠ¥í•˜ë‹¤.

ì›í•˜ì§€ ì•ŠëŠ”ë° ìƒì„±ìë¡œ í˜¸ì¶œì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì€ ìƒì†ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´, ë¶ˆí•„ìš”í•œ í”„ë¡œí† íƒ€ì… ê°ì²´ë¥¼ ìƒì„±í•˜ê²Œ ë§Œë“œëŠ” ë¬¸ì œê°€ ìˆë‹¤.

ìƒì„±ì í•¨ìˆ˜ë¡œ ì‚¬ìš©ë˜ì§€ ì•Šë„ë¡ ë§‰ê³  ì‹¶ë‹¤ë©´, ì–´ë–¤ ë°©ë²•ì´ ìˆì„ê¹Œ?

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´, ES6ì˜ í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” non-constructor ë¡œì„œ ë™ì‘í•˜ê²Œ ë§Œë“¤ì–´ì¡Œë‹¤.

| ES6 í•¨ìˆ˜ì˜ êµ¬ë¶„    | constructor | prototype | super | arguments |
| ------------------ | ----------- | --------- | ----- | --------- |
| ì¼ë°˜ í•¨ìˆ˜(Normal)  | O           | O         | X     | O         |
| ë©”ì„œë“œ(Method)     | X           | X         | O     | O         |
| í™”ì‚´í‘œ í•¨ìˆ˜(Arrow) | X           | X         | X     | X         |

## 26.2 ë©”ì„œë“œ

ì¼ë°˜ì ìœ¼ë¡œ ë©”ì„œë“œëŠ” ê°ì²´ì— ë°”ì¸ë”©ëœ í•¨ìˆ˜ë¥¼ ì´ì•¼ê¸°í•  ë•Œ ì‚¬ìš©í•œë‹¤.
í•˜ì§€ë§Œ, ES6 ì—ì„œ ë©”ì„œë“œì˜ ì˜ë¯¸ê°€ ëª…í™•íˆ ê·œì •ë˜ì—ˆë‹¤.
ë©”ì„œë“œëŠ” `ë©”ì„œë“œ ì¶•ì•½ í‘œí˜„`ìœ¼ë¡œ ì •ì˜ëœ í•¨ìˆ˜ë§Œì„ ë§í•œë‹¤.

```javascript
const obj = {
  x: 1,
  // fooëŠ” ES6 ë©”ì„œë“œë‹¤.
  foo() {
    return this.x;
  },
  // bar ëŠ” ê°ì²´ objì— ë°”ì¸ë”©í•œ ì¼ë°˜ í•¨ìˆ˜ë‹¤.
  bar: function () {
    return this.x;
  },
};

console.log(obj.foo()); // 1
console.log(obj.bar()); // 1
```

ìœ„ ì˜ˆì‹œì—ì„œ, `foo()` ëŠ” non-constructor ë¡œ ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.

í•˜ì§€ë§Œ, `bar()` ì˜ ê²½ìš°ëŠ” ì—¬ì „íˆ ì¼ë°˜ í•¨ìˆ˜ë¡œ ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œì´ ê°€ëŠ¥í•˜ë‹¤.

```javascript
new obj.foo(); // TypeError: obj.foo is not a constructor
new obj.bar(); // bar {}
```

ES6 ë©”ì„œë“œì™€ ì¼ë°˜ í•¨ìˆ˜ì˜ ì°¨ì´ëŠ” ë˜ ìˆë‹¤.

ë°”ë¡œ [[HomeObject]] ë¼ëŠ” ë‚´ë¶€ìŠ¬ë¡¯ì˜ ìœ ë¬´ë¡œ, ì´ë•Œ ì´ ë‚´ë¶€ ìŠ¬ë¡¯ì€ ìì‹ ì„ ë°”ì¸ë”©í•œ ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤.

ì¦‰, ìœ„ ì˜ˆì‹œì—ì„œ `foo()` ëŠ” ES6 ë©”ì„œë“œë¡œ [[HomeObject]] ë‚´ë¶€ìŠ¬ë¡¯ë¥¼ ê°€ì§€ë©° `obj` ë¥¼ ê°€ë¦¬í‚¤ê³  ìˆë‹¤ëŠ” ë§ì´ë‹¤.
ë”°ë¼ì„œ, ES6 ë©”ì„œë“œëŠ” super ì°¸ì¡°ë¡œ ìˆ˜í¼í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.

ì´ë¥¼ í†µí•´, ES6 ë©”ì„œë“œëŠ” non-constructor ì´ë©° ìƒìœ„ í´ë˜ìŠ¤ì˜ ì°¸ì¡°ëŠ” ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ì—ˆë‹¤.

ë”°ë¼ì„œ, ë©”ì„œë“œë¥¼ ì •ì˜í•˜ë ¤ë©´ ES6 ë©”ì„œë“œ ì •ì˜ ë°©ì‹ì„ ì´ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

## 26.3 í™”ì‚´í‘œ í•¨ìˆ˜

í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” ì•ì„œ this binding ë¥¼ ë‹¤ë£° ë•Œ ì ‘í•œ ì  ìˆë‹¤.
ëŒ€í‘œì ìœ¼ë¡œ, ì½œë°± í•¨ìˆ˜ì—ì„œ `this` ê°€ ì „ì—­ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” this binding ì´ ì´ë£¨ì–´ì§€ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤.

### ğŸ“ í™”ì‚´í‘œ í•¨ìˆ˜ ì •ì˜

í™”ì‚´í‘œ í•¨ìˆ˜ ì •ì˜ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ê°€ëŠ¥í•˜ë‹¤.

ë§¤ê°œë³€ìˆ˜ë¥¼ ì—¬ëŸ¬ ê°œ ì‚¬ìš©í•  ê²½ìš°, `(x, y)` ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```javascript
const multiply = (x, y) => x + y;
multiply(2, 3); // 6
```

ë§¤ê°œ ë³€ìˆ˜ê°€ í•œ ê°œì¼ ë•ŒëŠ” ì†Œê´„í˜¸ë¥¼ ì œì™¸í•˜ê¸°ë„ í•˜ì§€ë§Œ,
ë§¤ê°œ ë³€ìˆ˜ê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ ë•ŒëŠ” ë°˜ë“œì‹œ ì†Œê´„í˜¸ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

```javascript
const test1 = (x) => x;
test1();

const test2 = () => console.log("x");
test2();
```

í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ë²•ì€ ì¼ë°˜ í•¨ìˆ˜ì™€ ë™ì¼í•˜ë‹¤.

í™”ì‚´í‘œ í•¨ìˆ˜ì˜ ëª¸ì²´ë¥¼ ì •ì˜í•˜ëŠ” ê²½ìš°, ì¤‘ê´„í˜¸ {}ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ ì‚¬ìš©í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.

```javascript
const arrow = () => const x = 1; // SyntaxError: Unexpected token 'const'

// ìœ„ í‘œí˜„ì€ ë‹¤ìŒê³¼ ê°™ì´ í•´ì…•í•  ìˆ˜ ìˆë‹¤.
const arrow = () => { return const x = 1;}
```

ì¤‘ê´„í˜¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì„ ê±°ë¼ë©´, í‘œí˜„ì‹ë§Œ ê°€ëŠ¥í•˜ë‹¤.

ìœ„ ì˜ˆì‹œëŠ” í‘œí˜„ì‹ì´ ì•„ë‹Œ ë¬¸(const í‚¤ì›Œë“œ ì‚¬ìš©)ì„ ëª¸ì²´ì— ì‘ì„±í–ˆê¸° ë•Œë¬¸ì— ì˜¤ë¥˜ê°€ ë°œìƒí•œ ê²ƒì´ë‹¤.

ë˜í•œ, ê°ì²´ ë¦¬í„°ëŸ´ì„ ë°˜í™˜í•  ê²½ìš° ì†Œê´„í˜¸ë¥¼ ì‚¬ìš©í•´ ê°ì²´ ë¦¬í„°ëŸ´ì„ ê°ì‹¸ì•¼í•œë‹¤.

```javascript
const arrow = (id, content) => ({ id, content });
create(1, "JavaScript"); // { id: 1, content: 'JavaScript' }

// ìœ„ í•¨ìˆ˜ì™€ ì•„ë˜ í•¨ìˆ˜ëŠ” ê°™ë‹¤.
// ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ì•„ êµ¬ì¡°ë¶„í•´ í• ë‹¹ í›„ ë°˜í™˜.
const create = (id, content) => {
  return { id, content };
};
```
